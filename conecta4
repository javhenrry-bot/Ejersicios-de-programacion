#include <iostream>
#include <vector>
#include <limits> // Para limpiar el buffer de entrada

using namespace std;

// --- CONSTANTES GLOBALES ---
const int FILAS = 6;
const int COLUMNAS = 7;
const char VACIO = ' ';
const char JUGADOR_1 = 'X';
const char JUGADOR_2 = 'O';

// Tipo de dato para el tablero (matriz de caracteres)
typedef vector<vector<char>> Tablero;

// --- DECLARACIONES DE FUNCIONES ---
void inicializarTablero(Tablero& tab);
void dibujarTablero(const Tablero& tab);
bool colocarFicha(Tablero& tab, int columna, char jugador);
bool verificarGanador(const Tablero& tab, char jugador, int ultimaFila, int ultimaCol);
bool estaLleno(const Tablero& tab);
int obtenerMovimiento(char jugadorActual);
void jugarConecta4();

// =======================================================
// ============== DIBUJO DEL TABLERO =====================
// =======================================================

/**
 * @brief Inicializa el tablero con todos los espacios vacíos.
 * @param tab El tablero (pasado por referencia para modificarlo).
 */
void inicializarTablero(Tablero& tab) {
    // Redimensiona el vector a 6 filas y 7 columnas, inicializando con VACIO (' ')
    tab.assign(FILAS, vector<char>(COLUMNAS, VACIO));
}

/**
 * @brief Imprime el estado actual del tablero en la consola.
 * @param tab El tablero (pasado por constante referencia para no modificarlo).
 */
void dibujarTablero(const Tablero& tab) {
    // 1. Dibuja los números de columna
    cout << "\n  1   2   3   4   5   6   7\n";
    // 2. Dibuja las líneas superiores
    cout << "+---+---+---+---+---+---+---+\n";

    // 3. Dibuja las filas del tablero (de arriba a abajo)
    for (int i = 0; i < FILAS; ++i) {
        cout << "|";
        for (int j = 0; j < COLUMNAS; ++j) {
            // Imprime la ficha o un espacio si está vacío
            cout << " " << tab[i][j] << " |";
        }
        cout << "\n+---+---+---+---+---+---+---+\n";
    }
}

